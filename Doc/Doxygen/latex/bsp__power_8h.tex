\hypertarget{bsp__power_8h}{}\section{Kernel/\+Sources/arch/board/stm32/f401re/includes/bsp\+\_\+power.h File Reference}
\label{bsp__power_8h}\index{Kernel/\+Sources/arch/board/stm32/f401re/includes/bsp\+\_\+power.\+h@{Kernel/\+Sources/arch/board/stm32/f401re/includes/bsp\+\_\+power.\+h}}
{\ttfamily \#include \char`\"{}error\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdint.\+h\char`\"{}}\newline
Include dependency graph for bsp\+\_\+power.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{bsp__power_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{bsp__power_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{bsp__power_8h_a4b4e210767f8cc202a60b8253350406d}{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS}~0x40007000
\begin{DoxyCompactList}\small\item\em Power Control Register base address. \end{DoxyCompactList}\item 
\#define \hyperlink{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}{P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER}~((volatile \hyperlink{stdint_8h_a324c5d28c0d82f502a234ab99efac87a}{uint32\+\_\+t}$\ast$)\hyperlink{bsp__power_8h_a4b4e210767f8cc202a60b8253350406d}{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS})
\item 
\#define \hyperlink{bsp__power_8h_a06db718126d979cbf61fc27991514e1a}{P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK}~0x0000\+C000
\begin{DoxyCompactList}\small\item\em Power Control Register V\+OS mask. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG} \hyperlink{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}
\begin{DoxyCompactList}\small\item\em Short hand for enum P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG} \{ \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553a8ddc2bb242e2a77509aad0d808c22339}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2} = 0x00008000, 
\hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553ae3d01d01fcb9f3ecf90499f05f5f6652}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3} = 0x00004000
 \}\begin{DoxyCompactList}\small\item\em Power scaling modes available on the S\+T\+M32\+F401\+RE. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{error__types_8h_acf146bc98f60f47c79d782f7523e339c}{E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+\_\+E} \hyperlink{bsp__power_8h_abe4bd68d683c1ab3fbc83afb60b36ede}{bsp\+\_\+pwr\+\_\+set\+\_\+scaling} (const \hyperlink{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E} pwr\+\_\+scaling)
\begin{DoxyCompactList}\small\item\em Sets the power scaling. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{bsp__power_8h_a4b4e210767f8cc202a60b8253350406d}\label{bsp__power_8h_a4b4e210767f8cc202a60b8253350406d}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS@{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS}}
\index{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS@{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS}{PWR\_CR\_BASE\_ADDRESS}}
{\footnotesize\ttfamily \#define P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS~0x40007000}



Power Control Register base address. 



Definition at line 27 of file bsp\+\_\+power.\+h.

\mbox{\Hypertarget{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}\label{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER@{P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER}}
\index{P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER@{P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER}{PWR\_CR\_REGISTER}}
{\footnotesize\ttfamily \#define P\+W\+R\+\_\+\+C\+R\+\_\+\+R\+E\+G\+I\+S\+T\+ER~((volatile \hyperlink{stdint_8h_a324c5d28c0d82f502a234ab99efac87a}{uint32\+\_\+t}$\ast$)\hyperlink{bsp__power_8h_a4b4e210767f8cc202a60b8253350406d}{P\+W\+R\+\_\+\+C\+R\+\_\+\+B\+A\+S\+E\+\_\+\+A\+D\+D\+R\+E\+SS})}



Definition at line 28 of file bsp\+\_\+power.\+h.

\mbox{\Hypertarget{bsp__power_8h_a06db718126d979cbf61fc27991514e1a}\label{bsp__power_8h_a06db718126d979cbf61fc27991514e1a}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK@{P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK}}
\index{P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK@{P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK}{PWR\_CR\_VOS\_MASK}}
{\footnotesize\ttfamily \#define P\+W\+R\+\_\+\+C\+R\+\_\+\+V\+O\+S\+\_\+\+M\+A\+SK~0x0000\+C000}



Power Control Register V\+OS mask. 



Definition at line 31 of file bsp\+\_\+power.\+h.



\subsection{Typedef Documentation}
\mbox{\Hypertarget{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}\label{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}}
\index{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}{POWER\_SCALING\_E}}
{\footnotesize\ttfamily typedef enum \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG} \hyperlink{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}}



Short hand for enum P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG. 



Definition at line 47 of file bsp\+\_\+power.\+h.



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{bsp__power_8h_aeab31582495468040935b45b76f06553}\label{bsp__power_8h_aeab31582495468040935b45b76f06553}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG}}
\index{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG}{POWER\_SCALING}}
{\footnotesize\ttfamily enum \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+NG}}



Power scaling modes available on the S\+T\+M32\+F401\+RE. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2}}}\mbox{\Hypertarget{bsp__power_8h_aeab31582495468040935b45b76f06553a8ddc2bb242e2a77509aad0d808c22339}\label{bsp__power_8h_aeab31582495468040935b45b76f06553a8ddc2bb242e2a77509aad0d808c22339}} 
P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+2&Power scaling mode 2. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3@{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3}}}\mbox{\Hypertarget{bsp__power_8h_aeab31582495468040935b45b76f06553ae3d01d01fcb9f3ecf90499f05f5f6652}\label{bsp__power_8h_aeab31582495468040935b45b76f06553ae3d01d01fcb9f3ecf90499f05f5f6652}} 
P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+\+M\+O\+D\+E\+\_\+3&Power scaling mode 3. \\
\hline

\end{DoxyEnumFields}


Definition at line 38 of file bsp\+\_\+power.\+h.


\begin{DoxyCode}
39 \{
41     \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553a8ddc2bb242e2a77509aad0d808c22339}{POWER\_SCALING\_MODE\_2} = 0x00008000,
43     \hyperlink{bsp__power_8h_aeab31582495468040935b45b76f06553ae3d01d01fcb9f3ecf90499f05f5f6652}{POWER\_SCALING\_MODE\_3} = 0x00004000
44 \};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{bsp__power_8h_abe4bd68d683c1ab3fbc83afb60b36ede}\label{bsp__power_8h_abe4bd68d683c1ab3fbc83afb60b36ede}} 
\index{bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}!bsp\+\_\+pwr\+\_\+set\+\_\+scaling@{bsp\+\_\+pwr\+\_\+set\+\_\+scaling}}
\index{bsp\+\_\+pwr\+\_\+set\+\_\+scaling@{bsp\+\_\+pwr\+\_\+set\+\_\+scaling}!bsp\+\_\+power.\+h@{bsp\+\_\+power.\+h}}
\subsubsection{\texorpdfstring{bsp\+\_\+pwr\+\_\+set\+\_\+scaling()}{bsp\_pwr\_set\_scaling()}}
{\footnotesize\ttfamily \hyperlink{error__types_8h_acf146bc98f60f47c79d782f7523e339c}{E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+\_\+E} bsp\+\_\+pwr\+\_\+set\+\_\+scaling (\begin{DoxyParamCaption}\item[{const \hyperlink{bsp__power_8h_adbcdf5dee7695e72280aa56c141f5758}{P\+O\+W\+E\+R\+\_\+\+S\+C\+A\+L\+I\+N\+G\+\_\+E}}]{pwr\+\_\+scaling }\end{DoxyParamCaption})}



Sets the power scaling. 

Sets the power scaling based on the values passed in paramter. The scaling conforms to the values defined by the reference manual. If the value does not conform, the function has no effect and returns an error code.


\begin{DoxyParams}{Parameters}
{\em pwr\+\_\+scaling} & The scaling factor configuration.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+O\+\_\+\+E\+R\+R\+OR is returned in case of success. Otherwise an error code is returned. Please refer to the list of the standard error codes. 
\end{DoxyReturn}


Definition at line 33 of file bsp\+\_\+power.\+c.


\begin{DoxyCode}
34 \{
35     \textcolor{comment}{/* Sets the power scaling value, we don't apply mask verification because }
36 \textcolor{comment}{     * the POWER\_SCALING\_E enumeration should already contain the right values.}
37 \textcolor{comment}{     */}
38     *\hyperlink{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}{PWR\_CR\_REGISTER} = (*\hyperlink{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}{PWR\_CR\_REGISTER} & ~
      \hyperlink{bsp__power_8h_a06db718126d979cbf61fc27991514e1a}{PWR\_CR\_VOS\_MASK}) | pwr\_scaling;
39 
40     \textcolor{comment}{/* Delay to ensure bit update */}
41     \textcolor{keywordflow}{while}((*\hyperlink{bsp__power_8h_a30eb4f51898e3d42222ed18e4f392156}{PWR\_CR\_REGISTER} & \hyperlink{bsp__power_8h_a06db718126d979cbf61fc27991514e1a}{PWR\_CR\_VOS\_MASK}) != pwr\_scaling);
42 
43 \textcolor{preprocessor}{#if KERNEL\_LOG\_LEVEL >= INFO\_LOG\_LEVEL}
44     KERNEL\_LOG\_INFO(\textcolor{stringliteral}{"Power scaling mode changed"}, 
45                     pwr\_scaling, 
46                     \textcolor{keyword}{sizeof}(pwr\_scaling), 
47                     \hyperlink{error__types_8h_a4db9ee29f2ff83c71567c12f6bfbf28cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR});
48 \textcolor{preprocessor}{#endif}
49 
50     \textcolor{keywordflow}{return} \hyperlink{error__types_8h_a4db9ee29f2ff83c71567c12f6bfbf28cabf350750d0d4fabd8954c0f1e9bbae94}{NO\_ERROR};
51 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{bsp__power_8h_abe4bd68d683c1ab3fbc83afb60b36ede_icgraph}
\end{center}
\end{figure}
